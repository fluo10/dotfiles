#!/bin/bash

while getopts dv OPT; do
	case $OPT in
		d)
			DRY_RUN=d
			;;
		v)
			VERBOSE=v
			;;
	esac
done

shift `expr $OPTIND - 1`
ROOT_DIR=$*
HOME_DIR_LEN=${#HOME}
source ~/.config/user-dirs.dirs
DESTINATION_SUBDIR=${XDG_DOWNLOAD_DIR:HOME_DIR_LEN}
if [ $# -eq 0 ]; then
	DOWNLOAD_DIR="$XDG_DOWNLOAD_DIR"
#	MUSIC_DIR="$XDG_MUSIC_DIR"
	PICTURES_DIR="$XDG_PICTURES_DIR"
	DOCUMENTS_DIR="$XDG_DOCUMENTS_DIR"
# $ROOT=$1k
else
	DOWNLOAD_DIR="$ROOT_DIR${XDG_DOWNLOAD_DIR:HOME_DIR_LEN}"
	PICTURES_DIR="$ROOT_DIR${XDG_PICTURES_DIR:HOME_DIR_LEN}"
	MUSIC_DIR="$ROOT_DIR${XDG_MUSIC_DIR:HOME_DIR_LEN}"
	DOCUMENTS_DIR="$ROOT_DIR${XDG_DOCUMENTS_DIR:HOME_DIR_LEN}"
fi
if [ -n "${DRY_RUN+1}" ] ; then
echo "create $DOCUMENTS_DIR$DESTINATION_SUBDIR"
#echo "$MUSIC_DIR"
echo "move $DOWNLOAD_DIR/*.pdf to $DOCUMENTS_DIR$DESTINATION_SUBDIR"
echo "crete $PICTURES_DIR$DESTINATION_SUBDIR"
echo "move $DOWNLOAD_DIR/*{.jpg,.gif,.png} to $PICTURES_DIR$DESTINATION_SUBDIR"
# 
else
	mkdir -p "$DOCUMENTS_DIR$DESTINATION_SUBDIR"
	mv  $DOWNLOAD_DIR/*.pdf "$DOCUMENTS_DIR$DESTINATION_SUBDIR/"
	mkdir -p "$PICTURES_DIR$DESTINATION_SUBDIR" 
	mv  $DOWNLOAD_DIR/*.jpg "$PICTURES_DIR$DESTINATION_SUBDIR/"
	mv  $DOWNLOAD_DIR/*.gif "$PICTURES_DIR$DESTINATION_SUBDIR/"
	mv  $DOWNLOAD_DIR/*.png "$PICTURES_DIR$DESTINATION_SUBDIR/"
fi
